<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Student Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/student.css" />
  </head>

  <body>
    <div class="layout">
      <!-- ===== SIDEBAR ===== -->
      <div class="sidebar">
        <h2>ðŸŽ“ PIMS Portal</h2>
        <button onclick="navigate('dashboard')">Dashboard</button>
        <button onclick="navigate('jobs')">Jobs</button>
        <button onclick="navigate('applications')">My Applications</button>
        <button onclick="navigate('profile')">Profile</button>
        <button class="logout" onclick="logout()">Logout</button>
      </div>

      <!-- ===== MAIN CONTENT ===== -->
      <div class="main">
        <!-- ===== JOB CONTROLS ===== -->
        <div id="jobControls" class="job-controls hidden">
          <label for="searchInput" class="visually-hidden">Search</label>
          <input
            type="text"
            id="searchInput"
            placeholder="Search job title..."
          />

          <label for="branchFilter" class="visually-hidden">Branch</label>
          <select id="branchFilter">
            <option value="">All Branches</option>
            <option value="CSE">CSE</option>
            <option value="ISE">ISE</option>
          </select>

          <label for="cgpaFilter" class="visually-hidden">CGPA</label>
          <select id="cgpaFilter">
            <option value="">Any CGPA</option>
            <option value="6">6+</option>
            <option value="7">7+</option>
            <option value="8">8+</option>
          </select>

          <button class="btn-primary" onclick="applyFilters()">Search</button>
          <button class="btn-outline" onclick="clearFilters()">Clear</button>
        </div>

        <!-- ===== DYNAMIC CONTENT (Dashboard / Jobs / Applications) ===== -->
        <div id="content"></div>
        <div id="messageBox" class="message hidden"></div>

        <!-- ===== PROFILE SECTION ===== -->
        <div id="profile-section" class="hidden"></div>
      </div>
    </div>

    <!-- ===== JOB DETAILS MODAL ===== -->
    <div id="jobModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeModal()">Ã—</span>
        <div id="modalBody"></div>
      </div>
    </div>

    <!-- ===== EDIT PROFILE MODAL ===== -->
    <div id="editProfileModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeEditModal()">Ã—</span>
        <h3>Edit Profile</h3>

        <form id="editProfileForm">
          <label for="editFullName">Full Name</label>
          <input type="text" id="editFullName" required />

          <label for="editUsn">USN</label>
          <input type="text" id="editUsn" required />
          
          <label for="editBranch">Branch</label>
          <input type="text" id="editBranch" required />

          <label for="editCgpa">CGPA</label>
          <input type="number" step="0.01" id="editCgpa" />

          <label for="editGradYear">Graduation Year</label>
          <input type="number" id="editGradYear" />

          <label for="editLocation">Location</label>
          <input type="text" id="editLocation" />

          <label for="editObjective">Career Objective</label>
          <textarea id="editObjective"></textarea>

          <label for="editSkills">Skills (comma separated)</label>
          <input type="text" id="editSkills" />

          <br /><br />
          <button type="submit" class="btn-primary">Save Changes</button>
        </form>
      </div>
    </div>

    <!-- ===== LOADER ===== -->
    <div id="loader" class="loader hidden">
      <div class="spinner"></div>
    </div>

    <script src="js/student.js"></script>
  </body>
</html>
